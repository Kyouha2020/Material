@use "states" as *

@mixin ripple($overlay, $opacity: $container-overlay--pressed, $speed: 2)
  @supports (background-image: unquote('paint(ripple)'))
    background-image: unquote('paint(ripple)')
  --ripple-color: #{$overlay}
  --ripple-opacity: #{$opacity}
  --ripple-speed: #{$speed}

  &::before
    content: ''
    position: absolute
    top: 0
    right: 0
    bottom: 0
    left: 0
    width: calc(100% + 2 * var(--stroke-width))
    height: calc(100% + 2 * var(--stroke-width))
    margin-top: calc(-1 * var(--stroke-width, 0))
    margin-left: calc(-1 * var(--stroke-width, 0))
    border-radius: inherit
    background-color: #{$overlay}
    opacity: 0

  &:hover
    &::before
      opacity: $container-overlay--hovered

  &:focus
    &::before
      opacity: $container-overlay--focused

  &:active
    &::before
      opacity: $container-overlay--pressed