@use "../../design/color/theme" as *
@use "../../design/interaction/ripple" as *
@use "../../design/interaction/states" as *
@use "../../design/layout/spacing" as *
@use "../../design/usability/accessibility" as *
@use "../components" as *

@mixin icon-button-theme($color, $on-color)
  &.mtrl-icon-button
    @include ripple($color)
    color: rgba($color, $icon--active)

    &--two-tone
      background-color: rgba($color, $stroke)

    &--contained
      @include ripple($on-color)
      background-color: $color
      color: rgba($on-color, $icon--active)

@each $theme, $on-theme in $theme-map
  .mtrl-icon-button--#{map_get($theme-name-map, $theme)}
    @include icon-button-theme($theme, $on-theme)


.mtrl-icon-button
  @include ripple_
  @include touch-target
  @include unselectable
  @include centered-content
  @include accessible-border
  @include ripple($on-surface)
  display: inline-flex
  position: relative
  width: 48px
  height: 48px
  padding: 0
  border-radius: 50%
  border: none
  background-color: $surface
  color: rgba($on-surface, $icon--active)

  &:hover
    cursor: pointer

  &:disabled
    color: rgba($on-surface, $icon--disabled)
    background-color: rgba($surface, $disabled-filled-container)
    border-color: rgba($on-surface, $stroke)
    cursor: default
    pointer-events: none

  &--outlined
    border: 1px solid rgba($on-surface, $stroke)

  &--two-tone
    background-color: rgba($on-surface, $stroke)

    &:disabled
      background-color: rgba($on-surface, $disabled-filled-container)

  &--contained
    @include ripple($surface)
    background-color: $on-surface
    color: rgba($surface, $icon--active)

    &:disabled
      background-color: rgba($on-surface, $disabled-filled-container)

  &__icon
    width: 24px
    height: 24px
    font-size: 24px
    fill: currentColor
