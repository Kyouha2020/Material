@use "../../design/color/theme" as *
@use "../../design/environment/elevation" as *
@use "../../design/interaction/ripple" as *
@use "../../design/layout/spacing" as *
@use "../../design/typography/typography" as *
@use "../../design/usability/accessibility" as *
@use "../components" as *
@use "button_mixins" as *

.mtrl-button
  @include button-light-theme($primary, $on-primary)
  @include button-dark-theme($dark-primary, $dark-on-primary)
  @include disabled-button-light-theme($surface, $on-surface)
  @include disabled-button-dark-theme($dark-surface, $dark-on-surface)
  @include ripple_
  @include unselectable
  @include centered-content
  @include accessible-border
  @include typography(button)
  display: inline-flex
  min-width: 64px
  height: 36px
  padding: 0 8px
  border-radius: 4px
  white-space: nowrap
  overflow: hidden

  &:hover
    cursor: pointer

  &:focus-visible
    outline: 1px solid
    outline-offset: -4px

  &:disabled
    @include elevation(0)
    cursor: default
    pointer-events: none

  &--outlined, &--stroked, &--two-tone, &--contained, &--toggle, &--raised, &--push
    padding: 0 16px

  &--outlined, &--stroked
    border: 1px solid
    border-spacing: 2px

    &:not(.mtrl-button--contained):focus-visible
      outline: none
      border-color: inherit

  &--contained
    @include elevation(2, 4, 6, 8, $ripple-boost: false)

  &--toggle
    @extend .mtrl-button--outlined

    &--active
      @extend .mtrl-button--contained, .mtrl-button--unelevated

  &__icon
    @include centered-content
    @include margin-horizontal(-4px, 8px)
    display: inline-flex
    width: 18px
    height: 18px
    font-size: 18px
    fill: currentColor

    &--trailing
      @include margin-horizontal(8px, -4px)

  &--raised
    @include elevation(2, 4, 6, 8)

  &--float
    @include elevation(0, 0, 2, 4)

  &--push
    @include elevation(2, 4, 0, 0)

  &--unelevated
    @include elevation(0, 0, 0, 0)

  &--dense-1
    height: 32px

  &--dense-2
    height: 28px

  &--dense-3
    height: 24px

  &--rounded
    border-radius: 18px

  &--sharp
    border-radius: 0

  &--two-tone-icon
    @extend .mtrl-button--rounded

    .mtrl-button__icon
      @include margin-horizontal(-16px, 8px)
      width: 32px
      height: 32px
      border-radius: 50%

  &--animated-icon
    & .mtrl-button__icon
      @include margin-start(-24px !important)
      opacity: 0
      transition: margin 150ms, opacity 250ms

    &:hover, &:focus
      .mtrl-button__icon
        @include margin-start(-4px !important)
        opacity: 1

  &--shrink
    transition: border-radius 250ms

    &:hover, &:focus
      @extend .mtrl-button--rounded

  &--notched
    &:focus
      outline: 1px solid
      outline-offset: -4px

  &--block
    display: flex
    width: 100%

    &--between
      justify-content: space-between
