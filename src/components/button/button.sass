@use "../../design/theme/theme" as *
@use "../../design/environment/elevation" as *
@use "../../design/interaction/ripple" as *
@use "../../design/interaction/states" as *
@use "../../design/layout/density" as *
@use "../../design/layout/spacing" as *
@use "../../design/shape/shape" as *
@use "../../design/typography/typography" as *
@use "../../design/usability/accessibility" as *
@use "../components" as *

.mtrl-button
  @include ripple_
  @include ripple(prop(button-ripple-color, theme-prop(primary)))
  @include touch-target
  @include corner(prop(button-corner-radius, 4px))
  @include height(prop(button-height, 36px))
  @include padding(0, prop(button-horizontal-padding, 8px))
  @include typography(button)
  @include unselectable
  @include centered-content
  @include accessible-border
  background-color: prop(button-container-color, theme-prop(surface))
  color: prop(button-ink-color, theme-prop(primary, $text--high-emphasis))
  min-width: 64px
  position: relative
  white-space: nowrap

  &:hover
    cursor: pointer

  &:disabled
    @include elevation(0)
    @include stroke($color: prop(button-disabled-stroke-color, theme-prop(on-surface, $stroke)))
    color: prop(button-disabled-ink-color, theme-prop(on-surface, $text--disabled))
    background-color: prop(button-disabled-container-color, theme-prop(surface, $disabled-filled-container))
    cursor: default
    pointer-events: none

    .mtrl-button__label
      color: prop(button-disabled-label-color, prop(button-disabled-ink-color))

    .mtrl-button__icon
      color: prop(button-disabled-icon-color, prop(button-disabled-ink-color))

  &--outlined, &--stroked, &--two-tone, &--contained, &--float, &--raised, &--push
    @include padding(0, prop(button-horizontal-padding, 16px))

  &--stroked
    @include stroke_
    @include stroke(prop(button-stroke-width, 1px), prop(button-stroke-color, theme-prop(primary)))

  &--outlined
    @include stroke_
    @include stroke(prop(button-stroke-width, 1px), prop(button-stroke-color, theme-prop(on-surface, $stroke)))
    @include dark-theme
      &:focus
        @include stroke($color: prop(button-dark-stroke-color, theme-prop(primary)))

  &--two-tone
    background-color: prop(button-container-color, theme-prop(primary, $stroke))

    &:disabled
      background-color: prop(button-disabled-container-color, theme-prop(on-surface, $disabled-filled-container))

  &--contained
    @include ripple(prop(button-ripple-color, theme-prop(on-primary)))
    @include elevation(2, 4, 6, 8)
    background-color: prop(button-container-color, theme-prop(primary))
    color: prop(button-ink-color, theme-prop(on-primary, $text--high-emphasis))

    &:disabled
      background-color: prop(button-disabled-container-color, theme-prop(on-surface, $disabled-filled-container))

  &--vertical
    @include height(prop(button-height, 56px))
    flex-direction: column

    .mtrl-button__icon
      @include margin-horizontal(0)
      margin-bottom: 4px

      &--trailing
        margin-bottom: 0
        margin-top: 4px

    .mtrl-button__label
      @include typography(button, 0.875)

  &--two-column
    @include height(prop(button-height, 48px))

    .mtrl-button__label
      flex-direction: column

  &--float
    @include elevation(0, 0, 2, 4)

  &--raised
    @include elevation(2, 4, 6, 8)

  &--push
    @include elevation(2, 4, 0, 0)

  &--unelevated
    @include elevation(0, 0, 0, 0)

  &--rounded
    @include corner(calc(#{prop(button-height, prop(component-height))} / 2))

  &--tile
    @include corner(0)

  &__label
    @include centered-content
    color: prop(button-label-color, prop(button-ink-color))

    &--uppercase
      text-transform: uppercase

    &--sentence-case
      text-transform: none

    &--primary
      text-transform: none

    &--secondary
      @include typography(caption)
      color: theme-prop(primary, $text--medium-emphasis)
      text-transform: none

  &__icon
    @include margin-horizontal(-4px, 8px)
    width: 18px
    height: 18px
    color: prop(button-icon-color, prop(button-ink-color))
    font-size: 18px
    fill: currentColor

    &--trailing
      @include margin-horizontal(8px, -4px)
